{"version":3,"sources":["webpack:///./src/scene/rain.js"],"names":["getRgb","r","g","b","module","exports","dropList","inter1","inter2","gravity","linelist","canvasEl","document","getElementById","ctx","getContext","mousePos","backgroundColor","width","clientWidth","height","clientHeight","speedx","maxspeedx","window","onresize","onmousemove","e","clientX","clientY","createLine","temp","Math","random","myline","speed","die","posx","posy","h","color","floor","push","clearInterval","requestAnimationFrame","update","setInterval","createDrop","x","y","mydrop","vx","vy","radius","madedrops","maxi","i","length","forEach","splice","mydeadline","dis","sqrt","render","clearRect","line","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke"],"mappings":"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","file":"27_chunk.js?name=05c98ee84cb2002c1339","sourcesContent":["function getRgb(r, g, b) {\r\n    return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n}\r\nmodule.exports = function(){\r\n    //drop\r\n    var dropList = [] , \r\n        inter1 , inter2;\r\n    var gravity = 0.5;\r\n    //\r\n    var linelist = [];\r\n    var canvasEl = document.getElementById('canvas');\r\n    if(!canvasEl) return;\r\n    var ctx = canvasEl.getContext('2d');\r\n    var mousePos = [0, 0];\r\n    var backgroundColor = 'rgba(255,255,255,1)';\r\n    canvasEl.width = canvasEl.clientWidth;\r\n    canvasEl.height = canvasEl.clientHeight;\r\n    var speedx = 0;\r\n    var maxspeedx = -0.3;\r\n    window.onresize = function() {\r\n        canvasEl.width = canvasEl.clientWidth;\r\n        canvasEl.height = canvasEl.clientHeight;\r\n    }\r\n    window.onmousemove = function(e) {\r\n        mousePos[0] = e.clientX;\r\n        mousePos[1] = e.clientY;\r\n        maxspeedx = (e.clientX - canvasEl.clientWidth / 2) / (canvasEl.clientWidth / 2);\r\n    }\r\n    // window.onmousedown=function(e)\r\n    function createLine(e) {\r\n        var temp = 0.25 * (50 + Math.random() * 100);\r\n        var myline = {\r\n            speed: 5.5 * (Math.random() * 6 + 3),\r\n            die: false,\r\n            posx: e,\r\n            posy: -200,\r\n            h: temp,\r\n            //color: getRgb(Math.floor(temp * 255 / 75), Math.floor(temp * 255 / 75), Math.floor(temp * 255 / 75))\r\n            color: getRgb(Math.floor(temp * 255 / 75), Math.floor(temp * 255 / 75), Math.floor(temp * 255 / 75))\r\n        };\r\n        linelist.push(myline);\r\n    }\r\n    try{\r\n        clearInterval(inter1);\r\n        window.requestAnimationFrame(update);\r\n    }catch(e){\r\n        inter1 = setInterval(update,1000/60)\r\n    }\r\n    function createDrop(x, y) {\r\n        var mydrop = {\r\n            die: false,\r\n            posx: x,\r\n            posy: y,\r\n            vx: (Math.random() - 0.5) * 8,\r\n            vy: Math.random() * ( - 6) - 3,\r\n            radius: Math.random() * 1.5 + 1\r\n        };\r\n        return mydrop;\r\n    }\r\n\r\n    function madedrops(x, y) {\r\n        var maxi = Math.floor(Math.random() * 5 + 5);\r\n        for (var i = 0; i < maxi; i++) {\r\n            dropList.push(createDrop(x, y));\r\n        }\r\n    }\r\n\r\n    function update() {\r\n        if (dropList.length > 0) {\r\n            dropList.forEach(function(e) {\r\n                e.vx = e.vx + (speedx) / 2;\r\n                e.posx = e.posx + e.vx;\r\n                e.vy = e.vy + gravity;\r\n                e.posy = e.posy + e.vy;\r\n                if (e.posy > canvasEl.clientHeight) {\r\n                    e.die = true;\r\n                }\r\n            });\r\n        }\r\n        for (var i = dropList.length - 1; i >= 0; i--) {\r\n            //delite die\r\n            if (dropList[i].die) {\r\n                dropList.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        speedx = speedx + (maxspeedx - speedx) / 50;\r\n\r\n        if (Math.random() > 0) {\r\n            createLine(Math.random() * 2 * canvasEl.width - (0.5 * canvasEl.width));\r\n           // createLine(Math.random() * 2 * canvasEl.width - (0.5 * canvasEl.width));\r\n           // createLine(Math.random() * 2 * canvasEl.width - (0.5 * canvasEl.width));\r\n        }\r\n        var mydeadline = canvasEl.clientHeight - Math.random() * canvasEl.clientHeight / 5;\r\n        linelist.forEach(function(e) {\r\n            var dis = Math.sqrt(((e.posx + speedx * e.h) - mousePos[0]) * ((e.posx + speedx * e.h) - mousePos[0]) + (e.posy + e.h - mousePos[1]) * (e.posy + e.h - mousePos[1]));\r\n            if (dis < 35) {\r\n                madedrops(e.posx + speedx * e.h, e.posy + e.h);\r\n                e.die = true;\r\n            }\r\n\r\n            if ((e.posy + e.h) > mydeadline) {\r\n                if (Math.random() > 0.85) {\r\n                    madedrops(e.posx + speedx * e.h, e.posy + e.h);\r\n                    e.die = true;\r\n                }\r\n            }\r\n            if (e.posy >= canvasEl.clientHeight) {\r\n                e.die = true;\r\n            } else {\r\n                e.posy = e.posy + e.speed;\r\n                e.posx = e.posx + (e.speed * speedx);\r\n            }\r\n        });\r\n        for (var i = linelist.length - 1; i >= 0; i--) {\r\n            if (linelist[i].die) {\r\n                linelist.splice(i, 1);\r\n            }\r\n        }\r\n        render();\r\n        try{\r\n            clearInterval(inter2);\r\n            window.requestAnimationFrame(update);\r\n        }catch(e){\r\n            inter2 = setInterval(update,1000/60)\r\n        }\r\n    }\r\n    function render() {\r\n    \r\n        /* ctx.fillStyle = backgroundColor;\r\n        ctx.fillRect(0, 0, canvasEl.width, canvasEl.height); */\r\n\r\n    ctx.clearRect(0, 0, canvasEl.width, canvasEl.height);\r\n\r\n        linelist.forEach(function(line) {\r\n\r\n            ctx.strokeStyle = '#fff';\r\n            ctx.lineWidth = 0.5;\r\n            ctx.beginPath();\r\n            ctx.moveTo(line.posx, line.posy);\r\n            ctx.lineTo(line.posx + speedx * line.h, line.posy + line.h);\r\n            ctx.stroke();\r\n        });\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = \"#fff\";\r\n        /* dropList.forEach(function(e) {\r\n            ctx.beginPath();\r\n            ctx.arc(e.posx, e.posy, e.radius, Math.random() * Math.PI * 2, 1 * Math.PI);\r\n            ctx.stroke();\r\n        }); */\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scene/rain.js"],"sourceRoot":""}