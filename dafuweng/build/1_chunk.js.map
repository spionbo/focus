{"version":3,"sources":["webpack:///./src/widgets/loadding/sonic.js"],"names":["emptyFn","Sonic","d","converter","data","path","imageData","multiplier","padding","fps","stepsPerFrame","trailLength","pointDistance","domClass","backgroundColor","fillColor","strokeColor","stepMethod","step","stepMethods","square","_setup","setup","_teardown","teardown","_preStep","preStep","pixelRatio","width","height","fullWidth","fullHeight","argTypes","DIM","DEGREE","RADIUS","OTHER","argSignatures","arc","bezier","line","pathMethods","t","p0x","p0y","p1x","p1y","c0x","c0y","c1x","c1y","i","x","y","a","b","c","cx","cy","radius","start","end","point","ret","Math","cos","sin","angle","sx","sy","ex","ey","f","color","alpha","_","fillRect","fader","beginPath","_last","moveTo","lineTo","closePath","stroke","prototype","calculatePixelRatio","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","args","type","method","value","canvas","document","createElement","getContext","className","style","scale","points","l","length","slice","al","PI","unshift","r","pd","round","apply","push","progress","frame","prep","clearRect","fillStyle","pointsLength","index","frameD","indexD","stopped","globalAlpha","strokeStyle","getImageData","draw","putImageData","iterateFrame","play","hoc","timer","setInterval","stop","clearInterval","module","exports"],"mappings":"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","file":"1_chunk.js?name=05c98ee84cb2002c1339","sourcesContent":["/*\r\n * Sonic 0.3\r\n * --\r\n * https://github.com/padolsey/Sonic\r\n */\r\n\r\n(function(){\r\n\r\n\tvar emptyFn = function(){};\r\n\r\n\tfunction Sonic(d) {\r\n\r\n\t\tthis.converter = d.converter;\r\n\r\n\t\tthis.data = d.path || d.data;\r\n\t\tthis.imageData = [];\r\n\r\n\t\tthis.multiplier = d.multiplier || 1;\r\n\t\tthis.padding = d.padding || 0;\r\n\r\n\t\tthis.fps = d.fps || 25;\r\n\r\n\t\tthis.stepsPerFrame = ~~d.stepsPerFrame || 1;\r\n\t\tthis.trailLength = d.trailLength || 1;\r\n\t\tthis.pointDistance = d.pointDistance || .05;\r\n\r\n\t\tthis.domClass = d.domClass || 'sonic';\r\n\r\n\t\tthis.backgroundColor = d.backgroundColor || 'rgba(0,0,0,0)';\r\n\t\tthis.fillColor = d.fillColor;\r\n\t\tthis.strokeColor = d.strokeColor;\r\n\r\n\t\tthis.stepMethod = typeof d.step == 'string' ?\r\n\t\t\tstepMethods[d.step] :\r\n\t\t\td.step || stepMethods.square;\r\n\r\n\t\tthis._setup = d.setup || emptyFn;\r\n\t\tthis._teardown = d.teardown || emptyFn;\r\n\t\tthis._preStep = d.preStep || emptyFn;\r\n\r\n\t\tthis.pixelRatio = d.pixelRatio || null;\r\n\r\n\t\tthis.width = d.width;\r\n\t\tthis.height = d.height;\r\n\r\n\t\tthis.fullWidth = this.width + 2 * this.padding;\r\n\t\tthis.fullHeight = this.height + 2 * this.padding;\r\n\r\n\t\tthis.domClass = d.domClass || 'sonic';\r\n\r\n\t\tthis.setup();\r\n\r\n\t}\r\n\r\n\tvar argTypes = Sonic.argTypes = {\r\n\t\tDIM: 1,\r\n\t\tDEGREE: 2,\r\n\t\tRADIUS: 3,\r\n\t\tOTHER: 0\r\n\t};\r\n\r\n\tvar argSignatures = Sonic.argSignatures = {\r\n\t\tarc: [1, 1, 3, 2, 2, 0],\r\n\t\tbezier: [1, 1, 1, 1, 1, 1, 1, 1],\r\n\t\tline: [1,1,1,1]\r\n\t};\r\n\r\n\tvar pathMethods = Sonic.pathMethods = {\r\n\t\tbezier: function(t, p0x, p0y, p1x, p1y, c0x, c0y, c1x, c1y) {\r\n\t\t\t\r\n\t\t    t = 1-t;\r\n\r\n\t\t    var i = 1-t,\r\n\t\t        x = t*t,\r\n\t\t        y = i*i,\r\n\t\t        a = x*t,\r\n\t\t        b = 3 * x * i,\r\n\t\t        c = 3 * t * y,\r\n\t\t        d = y * i;\r\n\r\n\t\t    return [\r\n\t\t        a * p0x + b * c0x + c * c1x + d * p1x,\r\n\t\t        a * p0y + b * c0y + c * c1y + d * p1y\r\n\t\t    ]\r\n\r\n\t\t},\r\n\t\tarc: function(t, cx, cy, radius, start, end) {\r\n\r\n\t\t    var point = (end - start) * t + start;\r\n\r\n\t\t    var ret = [\r\n\t\t        (Math.cos(point) * radius) + cx,\r\n\t\t        (Math.sin(point) * radius) + cy\r\n\t\t    ];\r\n\r\n\t\t    ret.angle = point;\r\n\t\t    ret.t = t;\r\n\r\n\t\t    return ret;\r\n\r\n\t\t},\r\n\t\tline: function(t, sx, sy, ex, ey) {\r\n\t\t\treturn [\r\n\t\t\t\t(ex - sx) * t + sx,\r\n\t\t\t\t(ey - sy) * t + sy\r\n\t\t\t]\r\n\t\t}\r\n\t};\r\n\r\n\tvar stepMethods = Sonic.stepMethods = {\r\n\t\t\r\n\t\tsquare: function(point, i, f, color, alpha) {\r\n\t\t\tthis._.fillRect(point.x - 3, point.y - 3, 6, 6);\r\n\t\t},\r\n\r\n\t\tfader: function(point, i, f, color, alpha) {\r\n\r\n\t\t\tthis._.beginPath();\r\n\r\n\t\t\tif (this._last) {\r\n\t\t\t\tthis._.moveTo(this._last.x, this._last.y);\r\n\t\t\t}\r\n\r\n\t\t\tthis._.lineTo(point.x, point.y);\r\n\t\t\tthis._.closePath();\r\n\t\t\tthis._.stroke();\r\n\r\n\t\t\tthis._last = point;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tSonic.prototype = {\r\n\r\n\t\tcalculatePixelRatio: function(){\r\n\r\n\t\t\tvar devicePixelRatio = window.devicePixelRatio || 1;\r\n\t\t\tvar backingStoreRatio = this._.webkitBackingStorePixelRatio\r\n\t\t\t\t\t|| this._.mozBackingStorePixelRatio\r\n\t\t\t\t\t|| this._.msBackingStorePixelRatio\r\n\t\t\t\t\t|| this._.oBackingStorePixelRatio\r\n\t\t\t\t\t|| this._.backingStorePixelRatio\r\n\t\t\t\t\t|| 1;\r\n\r\n\t\t\treturn devicePixelRatio / backingStoreRatio;\r\n\t\t},\r\n\r\n\t\tsetup: function() {\r\n\r\n\t\t\tvar args,\r\n\t\t\t\ttype,\r\n\t\t\t\tmethod,\r\n\t\t\t\tvalue,\r\n\t\t\t\tdata = this.data;\r\n\r\n\t\t\tthis.canvas = document.createElement('canvas');\r\n\t\t\tthis._ = this.canvas.getContext('2d');\r\n\r\n\t\t\tif(this.pixelRatio == null){\r\n\t\t\t\tthis.pixelRatio = this.calculatePixelRatio();\r\n\t\t\t}\r\n\r\n\t\t\tthis.canvas.className = this.domClass;\r\n\r\n\t\t\tif(this.pixelRatio != 1){\r\n\r\n\t\t\t\tthis.canvas.style.height = this.fullHeight + 'px';\r\n\t\t\t\tthis.canvas.style.width = this.fullWidth + 'px';\r\n\r\n\t\t\t\tthis.fullHeight *= this.pixelRatio;\r\n\t\t\t\tthis.fullWidth  *= this.pixelRatio;\r\n\r\n\t\t\t\tthis.canvas.height = this.fullHeight;\r\n\t\t\t\tthis.canvas.width = this.fullWidth;\r\n\r\n\t\t\t\tthis._.scale(this.pixelRatio, this.pixelRatio);\r\n\r\n\t\t\t}   else{\r\n\r\n\t\t\t\tthis.canvas.height = this.fullHeight;\r\n\t\t\t\tthis.canvas.width = this.fullWidth;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.points = [];\r\n\r\n\t\t\tfor (var i = -1, l = data.length; ++i < l;) {\r\n\r\n\t\t\t\targs = data[i].slice(1);\r\n\t\t\t\tmethod = data[i][0];\r\n\r\n\t\t\t\tif (method in argSignatures) for (var a = -1, al = args.length; ++a < al;) {\r\n\r\n\t\t\t\t\ttype = argSignatures[method][a];\r\n\t\t\t\t\tvalue = args[a];\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\tcase argTypes.RADIUS:\r\n\t\t\t\t\t\t\tvalue *= this.multiplier;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase argTypes.DIM:\r\n\t\t\t\t\t\t\tvalue *= this.multiplier;\r\n\t\t\t\t\t\t\tvalue += this.padding;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase argTypes.DEGREE:\r\n\t\t\t\t\t\t\tvalue *= Math.PI/180;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\targs[a] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\targs.unshift(0);\r\n\r\n\t\t\t\tfor (var r, pd = this.pointDistance, t = pd; t <= 1; t += pd) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Avoid crap like 0.15000000000000002\r\n\t\t\t\t\tt = Math.round(t*1/pd) / (1/pd);\r\n\r\n\t\t\t\t\targs[0] = t;\r\n\r\n\t\t\t\t\tr = pathMethods[method].apply(null, args);\r\n\r\n\t\t\t\t\tthis.points.push({\r\n\t\t\t\t\t\tx: r[0],\r\n\t\t\t\t\t\ty: r[1],\r\n\t\t\t\t\t\tprogress: t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.frame = 0;\r\n\r\n\t\t\tif (this.converter && this.converter.setup) {\r\n\t\t\t\tthis.converter.setup(this);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tprep: function(frame) {\r\n\r\n\t\t\tif (frame in this.imageData) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._.clearRect(0, 0, this.fullWidth, this.fullHeight);\r\n\t\t\tthis._.fillStyle = this.backgroundColor;\r\n\t\t\tthis._.fillRect(0, 0, this.fullWidth, this.fullHeight);\r\n\r\n\t\t\tvar points = this.points,\r\n\t\t\t\tpointsLength = points.length,\r\n\t\t\t\tpd = this.pointDistance,\r\n\t\t\t\tpoint,\r\n\t\t\t\tindex,\r\n\t\t\t\tframeD,\r\n\t\t\t\tindexD;\r\n\r\n\t\t\tthis._setup();\r\n\r\n\t\t\tfor (var i = -1, l = pointsLength*this.trailLength; ++i < l && !this.stopped;) {\r\n\r\n\t\t\t\tindex = frame + i;\r\n\r\n\t\t\t\tpoint = points[index] || points[index - pointsLength];\r\n\r\n\t\t\t\tif (!point) continue;\r\n\r\n\t\t\t\tthis.alpha = Math.round(1000*(i/(l-1)))/1000;\r\n\r\n\t\t\t\tthis._.globalAlpha = this.alpha;\r\n\r\n\t\t\t\tif (this.fillColor) {\r\n\t\t\t\t\tthis._.fillStyle = this.fillColor;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.strokeColor) {\r\n\t\t\t\t\tthis._.strokeStyle = this.strokeColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tframeD = frame/(this.points.length-1);\r\n\t\t\t\tindexD = i/(l-1);\r\n\r\n\t\t\t\tthis._preStep(point, indexD, frameD);\r\n\t\t\t\tthis.stepMethod(point, indexD, frameD);\r\n\r\n\t\t\t} \r\n\r\n\t\t\tthis._teardown();\r\n\r\n\t\t\tthis.imageData[frame] = (\r\n\t\t\t\tthis._.getImageData(0, 0, this.fullWidth, this.fullWidth)\r\n\t\t\t);\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\tdraw: function() {\r\n\t\t\t\r\n\t\t\tif (!this.prep(this.frame)) {\r\n\r\n\t\t\t\tthis._.clearRect(0, 0, this.fullWidth, this.fullWidth);\r\n\r\n\t\t\t\tthis._.putImageData(\r\n\t\t\t\t\tthis.imageData[this.frame],\r\n\t\t\t\t\t0, 0\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (this.converter && this.converter.step) {\r\n\t\t\t\tthis.converter.step(this);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.iterateFrame()) {\r\n\t\t\t\tif (this.converter && this.converter.teardown) {\r\n\t\t\t\t\tthis.converter.teardown(this);\r\n\t\t\t\t\tthis.converter = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\titerateFrame: function() {\r\n\t\t\t\r\n\t\t\tthis.frame += this.stepsPerFrame;\r\n\t\t\t\r\n\t\t\tif (this.frame >= this.points.length) {\r\n\t\t\t\tthis.frame = 0;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\tplay: function() {\r\n\r\n\t\t\tthis.stopped = false;\r\n\r\n\t\t\tvar hoc = this;\r\n\r\n\t\t\tthis.timer = setInterval(function(){\r\n\t\t\t\thoc.draw();\r\n\t\t\t}, 1000 / this.fps);\r\n\r\n\t\t},\r\n\t\tstop: function() {\r\n\r\n\t\t\tthis.stopped = true;\r\n\t\t\tthis.timer && clearInterval(this.timer);\r\n\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.exports = Sonic;\r\n\r\n}());\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/loadding/sonic.js"],"sourceRoot":""}