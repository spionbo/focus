{"version":3,"sources":["webpack:///./src/pop/index.js","webpack:///./src/css/pop.scss"],"names":["body","$","module","exports","obj","self","config","title","content","okBtn","okCls","nextBtn","cancelBtn","cancelCls","width","okTxt","nextTxt","cancelTxt","history","okCallback","close","cancelCallback","closeCallback","windowClose","superClass","class","time","mask","maskTiming","timing","timingTime","openDone","extend","init","ele","element","elem","find","bg","submit","okbtn","nextbtn","cancelbtn","error","updateElement","addClass","html","addContent","add","css","length","remove","fn","parent","append","setTimeout","overflowY","updateEvent","call","setImgSize","pushState","status","window","maskSelf","push","onpopstate","e","back","pop","btn","callback","txt","text","bind","removeClass","unbind","click","myAddListener","stopPropagation","nextCallback","h","t","hideError","type"],"mappings":"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","file":"pop_chunk.js?name=05c98ee84cb2002c1339","sourcesContent":["import '../css/pop.scss';\r\nimport T from '../common/global.js';\r\nconst body = $('body');\r\nmodule.exports = class Pop{\r\n\tconstructor( obj ){\r\n\t\tvar self = this;\r\n\t\tthis.config = {\r\n\t\t\ttitle : '',\r\n\t\t\tcontent : null,\r\n\t\t\tokBtn : true,\r\n\t\t\tokCls : '',\r\n\t\t\tnextBtn : false,\r\n\t\t\tcancelBtn : true,\r\n\t\t\tcancelCls : '',\r\n\t\t\twidth : null,\r\n\t\t\tokTxt:'确定',\r\n\t\t\tnextTxt:'下一步',\r\n\t\t\tcancelTxt : '取消',\r\n\t\t\thistory : true, //是否使用历史记录\r\n\t\t\tokCallback : function(){self.close();},\r\n\t\t\tcancelCallback : function(){ self.close();},\r\n\t\t\tclose : true,\r\n\t\t\tcloseCallback : function(){},\r\n\t\t\twindowClose : true ,\r\n\t\t\tsuperClass : '',\r\n\t\t\tclass : '' ,\r\n\t\t\ttime : .5,\r\n\t\t\tmask : false,\r\n\t\t\tmaskTiming : 'mask',\r\n\t\t\ttiming : 'rotate3d',  // rotate3d , slideOutUp , slideOutDown , bounceIn , flipInX , flipInY , fadeIn\r\n\t\t\ttimingTime : 0,\r\n\t\t\topenDone : function(){} //加载完成\r\n\t\t};\r\n\t\t$.extend( this.config , obj);\r\n\t\tthis.init();\r\n\t}\r\n\tinit( ){\r\n\t\tvar timing = this.config.timing;\r\n\t\tif(timing=='rotate3d'||timing=='slideOutUp'||timing=='fadeIn'||timing=='slideOutDown'){\r\n\t\t\tthis.config.timingTime = 50;\r\n\t\t}\r\n\t\tif(this.config.mask == true ){\r\n\t\t\tthis.config.timing = '';\r\n\t\t}else{\r\n\t\t\tthis.config.maskTiming = '';\r\n\t\t}\r\n\t\tvar ele = $(\"<div class='pop \"+this.config.maskTiming+\"'>\"\r\n\t\t\t\t+\"<div data-width='555' data-height='454' class='pop-cnt img-size \"+this.config.timing+\"'>\"\r\n\t\t\t\t\t+\"<div class='close'><div class='v-line'></div><div class='h-line'></div></div>\"\r\n\t\t\t\t\t+\"<div class='title'></div>\"\r\n\t\t\t\t\t+\"<div class='content'></div>\"\r\n\t\t\t\t\t+\"<div class='error'></div>\"\r\n\t\t\t\t\t+\"<div class='submit'><div class='btn okbtn img-size'  data-width='326' data-height='60' data-lineHeight='60'></div><div class='btn next'></div><div class='btn unbind'></div></div>\"\r\n\t\t\t\t+\"</div>\"\r\n\t\t\t+\"</div>\");\r\n\r\n\t\tthis.element = {\r\n\t\t\t elem : ele\r\n\t\t\t,title : ele.find('.title')\r\n\t\t\t,close : ele.find('.close')\r\n\t\t\t,bg : ele.find('.pop-cnt')\r\n\t\t\t,content : ele.find('.content')\r\n\t\t\t,submit : ele.find('.submit')\r\n\t\t\t,okbtn : ele.find('.okbtn')\r\n\t\t\t,nextbtn : ele.find('.next')\r\n\t\t\t,cancelbtn : ele.find('.unbind')\r\n\t\t\t,error : ele.find('.error')\r\n\t\t};\r\n\r\n\t\tthis.updateElement();\r\n\t}\r\n\tupdateElement(){\r\n\t\tvar elem = this.element , \r\n\t\t\tconfig = this.config,\r\n\t\t\ttime = config.time+'s';\r\n\t\telem.okbtn.addClass(config.okCls).html(config.okTxt);\r\n\t\telem.nextbtn.html(config.nextTxt);\r\n\t\telem.cancelbtn.addClass(config.cancelCls).html(config.cancelTxt);\r\n\r\n\t\tif(config.mask==true){\r\n\t\t\tthis.addContent(\"<div class='loading'></div>\");\r\n\t\t}\r\n\r\n\t\telem.title.html(config.title);\r\n\t\tif(config.content) this.add(function(){ return config.content });\r\n\r\n\t\telem.elem.addClass(config.superClass)\r\n\t\telem.bg.addClass(config.class);\r\n\t\telem.bg.css({'transition-duration':time,'animation-duration':time})\r\n\t\telem.bg.css({'-webkit-transition-duration':time,'-webkit-animation-duration':time})\r\n\t\t\r\n\r\n\r\n\t\tif(config.width){\r\n\t\t\telem.bg.css({width:config.width});\r\n\t\t}\r\n\t\tif(config.title.length<2){\r\n\t\t\telem.title.remove();\r\n\t\t}\r\n\t\tif(config.okBtn==false){\r\n\t\t\telem.okbtn.remove();\r\n\t\t}\r\n\t\tif(config.nextBtn==false){\r\n\t\t\telem.nextbtn.remove();\r\n\t\t}\r\n\t\tif(config.cancelBtn==false){\r\n\t\t\telem.cancelbtn.remove();\r\n\t\t}\r\n\t\tif(config.okBtn==false && config.cancelBtn == false ){\r\n\t\t\telem.submit.remove();\r\n\t\t}\r\n\t\tif(config.close == false){\r\n\t\t\telem.close.remove();\r\n\t\t}\r\n\t}\r\n\tadd( fn ){\r\n\t\tvar ele = this.element , \r\n\t\t\tself = this;\r\n\t\tif(!ele.elem.parent().length){\r\n\t\t\tbody.append(ele.elem);\r\n\t\t\tthis.addContent(fn);\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tele.bg.addClass('cur');\r\n\t\t\t},self.config.timingTime);\r\n\t\t\tT.body.css({overflowY:'hidden'});\r\n\t\t\tself.history();\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.updateEvent();\r\n\t\t\t\tself.config.openDone();\r\n\t\t\t},self.config.time+20);\r\n\t\t}else{\r\n\t\t\tself.close();\r\n\t\t}\r\n\t\treturn ele.content;\r\n\t}\r\n\taddContent( fn ){\r\n\t\tvar ele = this.element.content;\r\n\t\tif( fn && typeof fn=='function' ){\r\n\t\t\tele.html(fn.call(ele));\r\n\t\t}else{\r\n\t\t\tele.html(fn);\r\n\t\t}\r\n\t\tsetTimeout(()=>{\r\n\t\t\tT.setImgSize();\r\n\t\t},100)\r\n\t}\r\n\thistory(){\r\n\t\tvar self = this;\r\n\t\tif(self.config.history){\r\n\t\t\thistory.pushState({status:'mask'},'');\r\n\t\t\tif(!window.maskSelf){\r\n\t\t\t\twindow.maskSelf = [];\r\n\t\t\t}\r\n\t\t\tmaskSelf.push(self);\r\n\t\t\twindow.onpopstate = function(e){\r\n\t\t\t\tif(maskSelf.length){\r\n\t\t\t\t\tmaskSelf[maskSelf.length-1].back();\r\n\t\t\t\t\tmaskSelf.pop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tunbind( btn , callback , txt , time ){\r\n\t\tvar self = this , text = btn.text();\r\n\t\ttxt = txt || text;\r\n\t\ttime = time || 3;\r\n\t\tfunction bind(){\r\n\t\t\tbtn.removeClass('unbind').text(text);\r\n\t\t\tself.unbind( btn , callback , txt , time );\r\n\t\t}\r\n\t\tbtn.unbind().click(function(){\r\n\t\t\tbtn.unbind().addClass('unbind').text(txt);\r\n\t\t\tcallback();\r\n\t\t\tsetTimeout(bind,time*1000)\r\n\t\t})\r\n\t}\r\n\tupdateEvent(){\r\n\t\tvar self = this ,\r\n\t\t\telem = this.element , \r\n\t\t\tconfig = this.config;\r\n\r\n\t\t\r\n\t\tT.myAddListener(elem.close,'mousedown',function(e){\r\n\t\t\te.stopPropagation()\r\n\t\t\tself.close();\r\n\t\t})\r\n\r\n\t\tT.myAddListener(elem.elem,'mousedown',function(e){\r\n\t\t\te.stopPropagation()\r\n\t\t\tif(config.windowClose){\r\n\t\t\t\tself.close();\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tT.myAddListener(elem.bg,'mousedown',function(e){\r\n\t\t\te.stopPropagation()\r\n\t\t})\r\n\r\n\t\t/*elem.close.click((event)=>{\r\n\t\t\tT.getEvent(event);\r\n\t\t\tself.close();\r\n\t\t});*/\r\n\t\t/*elem.elem.click((event)=>{\r\n\t\t\tT.getEvent(event);\r\n\t\t\tif(config.windowClose){\r\n\t\t\t\tself.close();\r\n\t\t\t}\r\n\t\t});*/\r\n\r\n\t\t/*elem.bg.click((event)=>{\r\n\t\t\tT.getEvent(event);\r\n\t\t});*/\r\n\r\n\t\tif(config.okBtn==true){\r\n\t\t\t//self.unbind(elem.okbtn,config.okCallback)\r\n\t\t\t/*elem.okbtn.click((event)=>{\r\n\t\t\t\tconfig.okCallback.call(self);\r\n\t\t\t});*/\r\n\t\t\tT.myAddListener(elem.okbtn,'mousedown',function(e){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tconfig.okCallback.call(self);\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(config.nextBtn==true){\r\n\t\t\t//self.unbind(elem.nextbtn,config.nextCallback);\r\n\t\t\t/*elem.nextbtn.click(()=>{\r\n\t\t\t\tconfig.nextCallback.call(self);\r\n\t\t\t});*/\r\n\r\n\t\t\tT.myAddListener(elem.nextbtn,'mousedown',function(e){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tconfig.nextCallback.call(self);\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(config.cancelBtn==true){\r\n\t\t\t/*elem.cancelbtn.click(()=>{\r\n\t\t\t\tconfig.cancelCallback.call(self);\r\n\t\t\t})*/\r\n\t\t\tT.myAddListener(elem.cancelbtn,'mousedown',function(e){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tconfig.cancelCallback.call(self);\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\terror( txt , h ){\r\n\t\tvar self = this,\r\n\t\t\terror = this.element.error , \r\n\t\t\tbg = this.element.bg,\r\n\t\t\ttime = this.config.time;\r\n\r\n\t\tbg.addClass('errorcur');\r\n\t\terror.html(txt).addClass('cur');\r\n\t\tsetTimeout(function(){\r\n\t\t\tbg.removeClass('errorcur');\r\n\t\t\tbg.css({'animation-duration':'0s'})\r\n\t\t\tbg.css({'-webkit-animation-duration':'0s'});\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tbg.css({'animation-duration':time+'s'})\r\n\t\t\t\tbg.css({'-webkit-animation-duration':time+'s'});\r\n\t\t\t}, (time*1000+10));\r\n\t\t},time*1000+10);\r\n\t}\r\n\thideError(){\r\n\t\tthis.element.error.html('').removeClass('cur succee');\r\n\t\tthis.element.bg.removeClass('errorcur');\r\n\t}\r\n\tsuccee(obj){\r\n\t\tvar t = obj.time || .1;\r\n\t\tvar self = this,\r\n\t\t\terror = this.element.error , \r\n\t\t\ttime = this.config.time;\r\n\r\n\t\terror.html(obj.txt).addClass('cur succee');\r\n\t\tsetTimeout(function(){\r\n\t\t\tself.hideError();\r\n\t\t\tobj.callback && obj.callback();\r\n\t\t},time*1000+t*1000);\r\n\t}\r\n\tclose(){\r\n\t\tif(this.config.history){\r\n\t\t\thistory.back();\r\n\t\t}else{\r\n\t\t\tthis.back();\r\n\t\t}\r\n\t\tthis.config.closeCallback();\r\n\t}\r\n\tback( fn ){\r\n\t\tvar ele = this.element;\r\n\t\tele.bg.removeClass('cur');\r\n\t\tsetTimeout(()=>{\r\n\t\t\tele.elem.remove();\r\n\t\t\tif( fn && $.type(fn)=='function' && fn() );\r\n\t\t\tT.body.css({overflowY:'auto'});\r\n\t\t},510);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pop/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/pop.scss\n// module id = 185\n// module chunks = 10"],"sourceRoot":""}