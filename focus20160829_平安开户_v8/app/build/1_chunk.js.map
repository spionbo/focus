{"version":3,"sources":["webpack:///./../../common/js/nativeShare.js"],"names":[],"mappings":"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","file":"1_chunk.js","sourcesContent":["import $ from 'webpack-zepto';\r\nconst qApiSrc = {\r\n    lower: \"http://i0.jrjimg.cn/zqt-red-1000/focus/common/js/qb.js\",\r\n    higher: \"http://jsapi.qq.com/get?api=app.share\"\r\n};\r\nconst bLevel = {\r\n    qq: {forbid: 0, lower: 1, higher: 2},\r\n    uc: {forbid: 0, allow: 1}\r\n};\r\nconst UA = navigator.appVersion;\r\nvar isqqBrowser = (UA.split(\"MQQBrowser/\").length > 1) ? bLevel.qq.higher : bLevel.qq.forbid;\r\nvar isucBrowser = (UA.split(\"UCBrowser/\").length > 1) ? bLevel.uc.allow : bLevel.uc.forbid;\r\nvar version = {\r\n    uc: \"\",\r\n    qq: \"\"\r\n};\r\nvar isWeixin = false;\r\nmodule.exports = class NativeShare{\r\n    constructor(config){\r\n        this.config = {\r\n            btn : [],\r\n            url:window.location.href,\r\n            title:'爱投顾-金融界-最专业的股市投资咨询服务',\r\n            desc:'爱投顾是金融界旗下专业证券投资领域的综合性服务平台。',\r\n            img:'http://i0.jrjimg.cn/zqt-red-1000/focus/logo_100_100.png',\r\n            img_title:'金融界爱投顾分享图片',\r\n            from:'http://itougu.jrj.com.cn'\r\n        };\r\n        $.extend(this.config,config);\r\n\r\n        this.ucAppList = {\r\n            sinaWeibo: ['kSinaWeibo', 'SinaWeibo', 11, '新浪微博'],\r\n            weixin: ['kWeixin', 'WechatFriends', 1, '微信好友'],\r\n            weixinFriend: ['kWeixinFriend', 'WechatTimeline', '8', '微信朋友圈'],\r\n            QQ: ['kQQ', 'QQ', '4', 'QQ好友'],\r\n            QZone: ['kQZone', 'QZone', '3', 'QQ空间']\r\n        };\r\n\r\n        if(this.config.btn.length){\r\n            this.init();\r\n        }\r\n\r\n    }\r\n    getPlantform() {\r\n        let ua = navigator.userAgent;\r\n        if ((ua.indexOf(\"iPhone\") > -1 || ua.indexOf(\"iPod\") > -1)) {\r\n            return \"iPhone\"\r\n        }\r\n        return \"Android\"\r\n    }\r\n    isloadqqApi() {\r\n        if (isqqBrowser) {\r\n            var b = (version.qq < 5.4) ? qApiSrc.lower : qApiSrc.higher;\r\n            var d = document.createElement(\"script\");\r\n            var a = document.getElementsByTagName(\"body\")[0];\r\n            d.setAttribute(\"src\", b);\r\n            a.appendChild(d)\r\n        }\r\n    }\r\n    init(){\r\n        var self = this;\r\n        this.platform_os = this.getPlantform();\r\n        version.qq = isqqBrowser ? this.getVersion(UA.split(\"MQQBrowser/\")[1]) : 0;\r\n        version.uc = isucBrowser ? this.getVersion(UA.split(\"UCBrowser/\")[1]) : 0;\r\n        isWeixin = this.is_weixin();\r\n        if ((isqqBrowser && version.qq < 5.4 && this.platform_os == \"iPhone\") || (isqqBrowser && version.qq < 5.3 && this.platform_os == \"Android\")) {\r\n            isqqBrowser = bLevel.qq.forbid\r\n        } else {\r\n            if (isqqBrowser && version.qq < 5.4 && this.platform_os == \"Android\") {\r\n                isqqBrowser = bLevel.qq.lower\r\n            } else {\r\n                if (isucBrowser && ((version.uc < 10.2 && this.platform_os == \"iPhone\") || (version.uc < 9.7 && this.platform_os == \"Android\"))) {\r\n                    isucBrowser = bLevel.uc.forbid\r\n                }\r\n            }\r\n        }\r\n        if ( (isqqBrowser || isucBrowser) && !isWeixin ) {\r\n            this.isloadqqApi();\r\n            if(this.config.callback){\r\n                this.config.btn.click(()=>{\r\n                    this.config.callback().find('li').each(( i , elem )=>{\r\n                        elem.onclick = function(){\r\n                            self.share(this.getAttribute('data-app'));\r\n                        }\r\n                    });\r\n                })\r\n            }\r\n        } else {\r\n            this.config.btn.hide();\r\n        }\r\n    }\r\n    share(to_app) {\r\n        var title = this.config.title, \r\n            url = this.config.url, \r\n            desc = this.config.desc, \r\n            img = this.config.img, \r\n            img_title = this.config.img_title, \r\n            from = this.config.from;\r\n        if (isucBrowser) {\r\n            to_app = to_app == '' ? '' : (this.platform_os == 'iPhone' ? this.ucAppList[to_app][0] : this.ucAppList[to_app][1]);\r\n            if (to_app == 'QZone') {\r\n                B = \"mqqapi://share/to_qzone?src_type=web&version=1&file_type=news&req_type=1&image_url=\"+img+\"&title=\"+title+\"&description=\"+desc+\"&url=\"+url+\"&app_name=\"+from;\r\n                k = document.createElement(\"div\"), k.style.visibility = \"hidden\", k.innerHTML = '<iframe src=\"' + B + '\" scrolling=\"no\" width=\"1\" height=\"1\"></iframe>', document.body.appendChild(k), setTimeout(function () {\r\n                    k && k.parentNode && k.parentNode.removeChild(k)\r\n                }, 5E3);\r\n            }\r\n            if (typeof(ucweb) != \"undefined\") {\r\n                ucweb.startRequest(\"shell.page_share\", [title, title, url, to_app, \"\", \"@\" + from, \"\"])\r\n            } else {\r\n                if (typeof(ucbrowser) != \"undefined\") {\r\n                    ucbrowser.web_share(title, title, url, to_app, \"\", \"@\" + from, '')\r\n                } else {\r\n                }\r\n            }\r\n        } else {\r\n            if (isqqBrowser && ! isWeixin) {\r\n                to_app = to_app == '' ? '' : this.ucAppList[to_app][2];\r\n                var ah = {\r\n                    url: url,\r\n                    title: title,\r\n                    description: desc,\r\n                    img_url: img,\r\n                    img_title: img_title,\r\n                    to_app: to_app,//微信好友1,腾讯微博2,QQ空间3,QQ好友4,生成二维码7,微信朋友圈8,啾啾分享9,复制网址10,分享到微博11,创意分享13\r\n                    cus_txt: \"请输入此时此刻想要分享的内容\"\r\n                };\r\n                ah = to_app == '' ? '' : ah;\r\n                if (typeof(browser) != \"undefined\") {\r\n                    if (typeof(browser.app) != \"undefined\" && isqqBrowser == bLevel.qq.higher) {\r\n                        browser.app.share(ah)\r\n                    }\r\n                } else {\r\n                    if (typeof(window.qb) != \"undefined\" && isqqBrowser == bLevel.qq.lower) {\r\n                        window.qb.share(ah)\r\n                    } else {\r\n                    }\r\n                }\r\n            } else {\r\n            }\r\n        }\r\n    }\r\n    is_weixin() {\r\n        var a = UA.toLowerCase();\r\n        if (a.match(/MicroMessenger/i) == \"micromessenger\") {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n    getVersion(c) {\r\n        var a = c.split(\".\"), b = parseFloat(a[0] + \".\" + a[1]);\r\n        return b\r\n    }\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./../../common/js/nativeShare.js\n **/"],"sourceRoot":""}