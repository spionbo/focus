(function($){$.extend($,{scroll:function(T,bV){var main=bV?T:T.parentElement;var aA=T.content;var width=main.width;var height=main.height;var ba=main.pages.length;$.dB(main,'mousedown');$.dB(main,'mousemove');$.dB(main,'mouseup');$.bb(T,'mousedown',function(event){event=$.aS(event,1);if(this.setCapture){this.setCapture();}this.down=1;this.dI=event.clientX;this.bC=event.clientY;this.er=event.clientX;this.bU=event.clientY;this.startTime=$.aT();this.direction='';});$.bb(T,'mousemove',function(event){if(!this.down){return;}event=$.aS(event);var x=event.clientX-this.dI;var y=event.clientY-this.bC;if(!this.direction){if(Math.abs(x)>Math.abs(y)){this.direction='x';}else{this.direction='y';}}if(this.direction=='x'){$.M(main,{l:parseInt(main.style.left)+x});if(bV){$.M(bV,{l:parseInt(bV.style.left)+x});}this.dI=event.clientX;}else{$.M(aA,{t:parseInt(aA.style.top)+y});this.bC=event.clientY;}});$.bb(T,'mouseup',function(){var bN=this;if(!bN.down){return;}bN.down=0;if(bN.releaseCapture){bN.releaseCapture()};var interval=$.aT()-bN.startTime;var page=bN.num;var x=bN.dI-bN.er;var y=bN.bC-bN.bU;x=x>30||x< -30?x:0;y=y>30||y< -30?y:0;function cN(){var left=parseInt(main.style.left);var dm=width*page;var num=dm-Math.abs(left);var bq=width*0.5;if(bV){if(left<0){page+=Math.abs(left)<bq?0:1;}else{page+=left>bq? -1:0;}}else{if(left<0&&Math.abs(left)<(ba-1)*width){page+=num>bq? -1:(Math.abs(num)>=bq?1:0);}}page=page>=ba-1?ba-1:page<=0?0:page;};if(bN.direction=='x'){var num=page;if(interval<300){page+=x>0? -1:1;page=page>=(ba-1)?(ba-1):(page<0?0:page);}else{cN();}$.update.Nav(page);if(bV){var n=num>page? -1:num<page?1:0;if($.k&&page==1){$.aK(-1,main);$.aK(0,bV);}else{$.aK(page,bV);$.aK(n,main);}$.bK(page);}else{if($.k&&page==1){$.aK(0,main);}else{$.aK(page,main);}}$.update.Content(page);$.ac=page;$.M($.head,{l:main.width* -page});if($.k){$.update.load(true);}}else{if(interval<300){var cn=bN.bC-bN.bU;var height=cn/interval*40;$.aY(aA,height);}else{var top=parseInt(aA.style.top);var height=aA.offsetHeight;var d;if(top>0){$.aY(aA,top/5);}else if(Math.abs(top)>(d=height-main.parentNode.offsetHeight)){$.aY(aA,(Math.abs(top)-d)/ -5);}}}});},aK:function(i,T){var m=T||$.main,w=m.width,x=parseInt(m.style.left),cQ= -i*w,d=cQ-x;function ay(){d*=0.5;if(Math.abs(d)<1){d=0;clearInterval(dz);}$.M(m,{l:cQ-d});};var dz=setInterval(ay,40);if(m.pages){$.F(m.pages,function(){$.M(this.content,{t:0});})}},aY:function(demo,direction){var height=demo.offsetHeight;var top=0,num=height-$.main.parentNode.offsetHeight;function ay(){top=parseInt(demo.style.top);direction*=.92;if(direction>0){if(top>=0&&top>=direction){top-=direction;}else if(top<0&&top<direction){top+=direction;}else{top=0;direction=0;}}else{if(Math.abs(top)>=num&&top<=direction){top-=direction;}else if(num-Math.abs(top)<Math.abs(direction)&&num>0){top= -num;direction=0;}else if(num<0){top=0;direction=0;}else{top+=direction;}}if(Math.abs(direction)<0.5){clearInterval(dV);}$.M(demo,{t:top});};var dV=setInterval(ay,40);}})})($);