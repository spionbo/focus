Array.prototype.p=function(){this.push.apply(this,arguments);};Array.prototype.AE=function(){return this[this.length-1];};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(item,i){i||(i=0);var length=this.length;if(i<0)i=length+i;for(;i<length;i++)if(this[i]===item)return i;return-1;};String.prototype.aG=function(a){return this.length==0?[]:this.split(a)};String.prototype.s=function(){this.substring.apply(this,arguments);};if(!Number.toFixed){Number.prototype.toFixed=function(a,b){var s,f= !b?R:(b=='ceil'?M.cl:M.f),dV=1;if($T.aW(a))s='';dV=M.pow(10,a||0);s=(f(this*dV)/dV).toString();var ah=a-s.substring(s.indexOf('.')+1||s.length,s.length).length;if(s.indexOf('.')<0)s+='.';for(var i=0;i<ah;i++){s+='0';}return s}};Number.prototype.substring=function(a,b){return b?(''+this).substring(a,b):(''+this).substring(a)};Date.prototype.pattern=function(tS){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};var week={"0":"\u65e5","1":"\u4e00","2":"\u4e8c","3":"\u4e09","4":"\u56db","5":"\u4e94","6":"\u516d"};if(/(y+)/.test(tS)){tS=tS.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length));}if(/(E+)/.test(tS)){tS=tS.replace(RegExp.$1,((RegExp.$1.length>1)?(RegExp.$1.length>2?"\u661f\u671f":"\u5468"):"")+week[this.getDay()+""]);}for(var k in o){if(new RegExp("("+k+")").test(tS)){tS=tS.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)));}}return tS;};$T.extend(window.CanvasRenderingContext2D?CanvasRenderingContext2D.prototype:qz.prototype,{a:function(a,b,c,d,e,f){this.arc(a,b,c,d,e,f);return this;},Ah:function(a,b){if(B.qa)return;for(var i=0,ah=b.length;i<ah;i++){a.addColorStop(b[i][0],b[i][1]);}},b:function(a){this.beginPath();return this;},xE:function(a,b,c,d,e,f){this.bezierCurveTo(a,b,c,d,e,f);return this;},c:function(a){this.closePath();return this;},gH:function(b,c,d,e,f){a=this;b=R(b)+.5;c=R(c)+.5;d=R(d)+b-1;e=R(e)+c-1;f=R(f);a.cW().b().m(b+f,c).l(d-f,c).bK(d,c,d,c+f).l(d,e-f).bK(d,e,d-f,e).l(b+f,e).bK(b,e,b,e-f).l(b,c+f).bK(b,c,b+f,c).c();return this;},hY:function(r,w,c,a){w=R(w);var o=this,z=R(w*r),y=R(w-z);o.b().gp(0,0,0,w,[[0,$T.aA(c,0)],[r,$T.aA(c,a)],[1-r,$T.aA(c,a)],[1,$T.aA(c,0)]]).cc(z,0,y-z,w).b().gp(0,0,z,0,[[0,$T.aA(c,0)],[1,$T.aA(c,a)]]).cc(0,z,z,y-z).b().gp(y,0,w,0,[[0,$T.aA(c,a)],[1,$T.aA(c,0)]]).cc(y,z,z,y-z).b().eJ(y,y,0,y,y,z,[[0,$T.aA(c,a)],[1,$T.aA(c,0)]]).a(y,y,z,0,PI*0.5,0).l(y,y).c().f().b().eJ(y,z,0,y,z,z,[[0,$T.aA(c,a)],[1,$T.aA(c,0)]]).a(y,z,z,PI*1.5,0,0).l(y,z).c().f().b().eJ(z,z,0,z,z,z,[[0,$T.aA(c,a)],[1,$T.aA(c,0)]]).a(z,z,z,PI,PI*1.5,0).l(z,z).c().f().b().eJ(z,y,0,z,y,z,[[0,$T.aA(c,a)],[1,$T.aA(c,0)]]).a(z,y,z,PI*0.5,PI,0).l(z,y).c().f();return this;},cl:function(){this.clip();return this;},pV:function(a,b,c,d){this.clearRect(a||0,b||0,c||this.canvas.width,d||this.canvas.height);return this;},xS:function(){if(!B.qa){this.drawImage.apply(this,arguments);}return this;},f:function(a){if(a){this.bq(a)}this.fill();return this;},zE:function(a){this.font=a;return this;},cc:function(a,b,c,d){this.fillRect(a,b,c,d);return this;},bq:function(a){this.fillStyle=a;return this;},Ei:function(a,b,c){if(!B.qa){this.fillText(a,b,c);}return this;},lZ:function(a){this.globalCompositeOperation=a;return this;},i:function(){this.pV().ld().wz().qt().b();return this;},l:function(a,b){this.lineTo(a,b);return this;},ld:function(a){this.lineCap=a||'round';return this;},gp:function(a,b,c,d,e,f){var aL=this.createLinearGradient(a,b,c,d);this.Ah(aL,e);if(f){this.eE(aL);}else{this.bq(aL);}return this;},wz:function(a){this.lineJoin=a||'round';return this;},cW:function(a){this.lineWidth=a||1;return this;},m:function(a,b){this.moveTo(a,b);return this;},qt:function(a){this.miterLimit=a||3;return this;},bK:function(a,b,c,d){this.quadraticCurveTo(a,b,c,d);return this;},r:function(a,b,c,d){this.rect(a,b,c,d);return this;},eJ:function(a,b,c,d,e,f,g,h){var aL=this.createRadialGradient(a,b,c,d,e,f);this.Ah(aL,g);if(h){this.eE(aL);}else{this.bq(aL);}return this;},yX:function(){this.restore();return this;},rt:function(a){this.rotate(a);return this;},s:function(a){if(a){this.eE(a)}this.stroke();return this;},ti:function(a,b,c,d){if(a){this.shadowOffsetX=a;}if(b){this.shadowOffsetY=b;}if(c){this.shadowColor=c;}if(d){this.shadowBlur=d;}return this;},kO:function(a,b,c,d){this.strokeRect(a,b,c,d);return this;},eE:function(a){this.strokeStyle=a;return this;},vw:function(){this.save();return this;},ts:function(a,b,c){this.font=a;this.textBaseline=b||'top';this.textAlign=c||'left';return this;},tl:function(a,b){this.translate(a,b);return this;}}); 